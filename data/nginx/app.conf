server
{
  listen 80;
  listen [::]:80;
  server_name wtl.nyc www.wtl.nyc;

  location ~ /.well-known/acme-challenge
  {
    allow all;
    root /var/www/html;
  }

  location /slack
  {
    return 301 https://join.slack.com/t/wtlnyc/shared_invite/enQtNjM0ODY3ODc1MTkxLWE0OWM4M2Y0OTE0NTcxYWJhMjFhYzRjNjI2MDczNWEwZjQ4OTc2NjdjOTM5ZmU5NmE0MGEyMWMyM2ZlOGRmMDA;
  }

  location /join
  {
    return 301 https://www.meetup.com/WTL-Women-Tech-Leaders-NYC/;
  }

  location /
  {
    return 301 https://$host$request_uri;
  }
}

# server
# {
#   listen 443 ssl http2;
#   listen [::]:443 ssl http2;
#   server_name wtl.nyc www.wtl.nyc;
#
#   server_tokens off;
#
#   ssl_certificate /etc/letsencrypt/live/wtl.nyc/fullchain.pem;
#   ssl_certificate_key /etc/letsencrypt/live/wtl.nyc/privkey.pem;
#
#   ssl_buffer_size 8k;
#
#   include /etc/letsencrypt/options-ssl-nginx.conf;
#   ssl_dhparam /etc/letsencrypt/ssl-dhparams.pem;
#
#   # ssl_dhparam /etc/ssl/certs/dhparam-2048.pem;
#
#   resolver 8.8.8.8;
#
#   location /slack
#   {
#     return 301 https://join.slack.com/t/wtlnyc/shared_invite/enQtNjM0ODY3ODc1MTkxLWE0OWM4M2Y0OTE0NTcxYWJhMjFhYzRjNjI2MDczNWEwZjQ4OTc2NjdjOTM5ZmU5NmE0MGEyMWMyM2ZlOGRmMDA;
#   }
#
#   location /join
#   {
#     return 301 https://www.meetup.com/WTL-Women-Tech-Leaders-NYC/;
#   }
#
#   location /
#   {
#     try_files $uri @nodejs;
#   }
#
#   location @nodejs
#   {
#     proxy_pass http://nodejs:3000;
#     add_header X-Frame-Options "SAMEORIGIN" always;
#     add_header X-XSS-Protection "1; mode=block" always;
#     add_header X-Content-Type-Options "nosniff" always;
#     add_header Referrer-Policy "no-referrer-when-downgrade" always;
#     add_header Content-Security-Policy "default-src * data: 'unsafe-eval' 'unsafe-inline'" always;
#     # add_header Strict-Transport-Security "max-age=31536000; includeSubDomains; preload" always;
#     # enable strict transport security only if you understand the implications
#   }
#
#   root /var/www/html;
#   index index.html index.htm index.nginx-debian.html;
# }
